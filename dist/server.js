(()=>{var e={609:(e,t,a)=>{"use strict";a.r(t);const r=require("express");var n=a.n(r);const l=require("fs");var c=a.n(l);const s=require("path");var o=a.n(s);const i=require("react");var u=a.n(i);const m=require("react-dom/server");var d=a.n(m);const E=require("react-redux"),p=require("react-router-dom/server"),_=require("redux"),h=require("react-dom/client");var f=a.n(h);const C=require("react-router-dom"),v=require("@mui/material/Button");var T,b,I,L,N,A=a.n(v);!function(e){e.CHANGE_CONSTRUCTOR_TYPE="CHANGE_CONSTRUCTOR_TYPE",e.SET_CONSTRUCTOR_PARAMS="SET_CONSTRUCTOR_PARAMS",e.ADD_TABLE="ADD_TABLE",e.UPDATE_TABLE="UPDATE_TABLE",e.DELETE_TABLE="DELETE_TABLE",e.SELECT_TABLE="SELECT_TABLE",e.DELETE_HALL="DELETE_HALL",e.ADD_HALL="ADD_HALL",e.RESET_CONSTRUCTOR="RESET_CONSTRUCTOR",e.SAVE_HALL_ID_IN_CONSTRUCTOR="SAVE_HALL_ID_IN_CONSTRUCTOR",e.ADD_PLACE_IN_TABLE="ADD_PLACE_IN_TABLE",e.DELETE_PLACE_FROM_TABLE="DELETE_PLACE_FROM_TABLE"}(T||(T={})),(N=b||(b={})).LOAD_HALLS_REQUEST="LOAD_HALLS_REQUEST",N.LOAD_HALLS_REQUEST_SUCCESS="LOAD_HALLS_REQUEST_SUCCESS",N.ADD_NEW_HALL_REQUEST="ADD_NEW_HALL_REQUEST",N.ADD_NEW_HALL_REQUEST_SUCCESS="ADD_NEW_HALL_REQUEST_SUCCESS",function(e){e.new="new",e.edit="edit"}(I||(I={})),function(e){e.free="FREE",e.reserved="RESERVED",e.notSetting="NOT SETTING"}(L||(L={}));var S=function(e){return{type:T.CHANGE_CONSTRUCTOR_TYPE,mode:e}},P=function(e){return{type:T.SET_CONSTRUCTOR_PARAMS,params:e}},y=function(e){return e.administration},R=function(e){return e.administration.halls},D=function(e,t){var a=e.administration.halls.findIndex((function(e){return e.hallId===t}));return e.administration.halls[a].tables},x=function(e){return e.administration.constructor},g=function(e){return e.administration.constructor.mode},O=function(e){return e.administration.constructor.constructorParameters};const z=function(e){var t=e.id,a=e.maxTablesCount,r=(0,C.useNavigate)(),n=(0,E.useDispatch)(),l=(0,E.useSelector)((function(e){return D(e,t)}));return u().createElement("div",{className:"hallContainer"},u().createElement("h2",{className:"hallContainer__headline"},"Зал ",t),u().createElement(A(),{className:"hallContainer__delBtn",variant:"outlined",sx:{color:"red",border:"1px solid red"},onClick:function(){return function(e){var t;n((t=e,{type:T.DELETE_HALL,hallId:t}))}(t)}},"Удалить"),u().createElement("ul",{className:"hallList"},l.map((function(e){return u().createElement("li",{key:e.tableId,className:"hallListItem",onClick:function(){return function(e,t){n(S(t.type)),n(function(e,t,a,r){return{type:T.SELECT_TABLE,hallId:e,tableId:t,constructorParameters:a,places:r}}(e,t.tableId,{placesCount:t.constructorParams.placesCount,sizeCircle:t.constructorParams.sizeCircle,sizeX:t.constructorParams.sizeX,sizeY:t.constructorParams.sizeY},t.places)),r("tableConstructor?type=edit")}(t,e)}},u().createElement("span",{className:"hallListItem__id"},"Стол №",e.tableId),u().createElement("span",{className:"hallListItem__countPlaces"},"Мест : ",e.places.length))})),l.length<a&&u().createElement("li",{className:"hallListItem"},u().createElement("button",{className:"hallContainer__addTableBtn",type:"button",onClick:function(){return e=t,n({type:T.RESET_CONSTRUCTOR}),n(function(e){return{type:T.SAVE_HALL_ID_IN_CONSTRUCTOR,hallId:e}}(e)),void r("tableConstructor?type=new");var e}},"Добавить стол"))))},B=require("tslib"),k=require("@mui/material/Box");var U=a.n(k);const w=function(e){var t=(0,E.useDispatch)(),a=e.placeStatus,r=e.tableType,n=e.placeId,l=e.hallId,c=e.tableId,s=function(e,t,r){switch(a){case L.free:m(e,t,r);break;case L.notSetting:o(r)}},o=function(e){var a,r={placeId:e,placeStatus:L.free};t((a=r,{type:T.ADD_PLACE_IN_TABLE,place:a}))},m=function(e,a,r){t(function(e,t,a){return{type:T.DELETE_PLACE_FROM_TABLE,hallId:e,tableId:t,placeId:a}}(e,a,r))},d=(0,i.useMemo)((function(){return"square"===r?"tableGeneralContainer__place tableGeneralContainer__place_square":"circle"===r?"tableGeneralContainer__place tableGeneralContainer__place_circle":void 0}),[r]);switch(a){case L.notSetting:return u().createElement("button",{className:d,type:"button",onClick:function(){return s(l,c,n)}},"Добавить ",u().createElement("br",null)," место");case L.reserved:return u().createElement("div",{className:"".concat(d," tableGeneralContainer__place_reserved")},"Забронировано");case L.free:return u().createElement("button",{className:d,type:"button",onClick:function(){return s(l,c,n)}},"Свободно");default:return null}},H=function(e){var t=e.type,a=e.countPlacesCircle,r=e.size,n=e.places,l=e.tableId,c=e.hallId,s=(0,B.__read)(r,2),o=s[0],i=s[1],m=360/a,d=Array.from(Array(a).keys()),E=0,p=Array.from(Array((o+2)*(i+2)).keys()),_=0,h=function(e,t){var a=0,r=a+e+1;return t.map((function(n){return n<e+1&&n>0||n>t.length-2-e&&n<t.length-1?n:0===a||a===t.length-e-2||n!==a&&n!==r?void(n===r&&(r=(a=n+1)+e+1)):n}))}(o,p);switch(t){case"square":return u().createElement("div",{style:{padding:0},className:"tableGeneralContainer"},u().createElement("div",{style:{gridTemplateColumns:"repeat(".concat(o+2,", 100px)"),gridTemplateRows:"repeat(".concat(i+2,", 100px)")},className:"squareTableContainer"},p.map((function(e){if(h.includes(e)){_++;var a=n.find((function(e){return e.placeId===_}));return u().createElement(w,{placeId:_,hallId:c,tableId:l,tableType:t,key:e,placeStatus:a?a.placeStatus:L.notSetting})}return u().createElement("div",{key:e})})),u().createElement(U(),{className:"squareTableContainer__table",sx:{width:"".concat(50+100*o+"","px"),height:"".concat(50+100*i+"","px"),backgroundColor:"primary.dark",border:"2px solid #000000"}})));case"circle":return u().createElement("div",{className:"tableGeneralContainer"},u().createElement("div",{className:"circleTableContainer"},d.map((function(e){0==e&&(E=0),E+=m;var a=n.find((function(t){return t.placeId===e+1}));return u().createElement("div",{key:e,style:{transform:"rotate(".concat(E+"","deg) translateX(-50%)"),transformOrigin:"1px ".concat(50+50*o+"","px")},className:"circleTablePlaceWrapper"},u().createElement(w,{placeId:e+1,hallId:c,tableId:l,tableType:t,placeStatus:a?a.placeStatus:L.notSetting}))})),u().createElement(U(),{className:"circleTableContainer__table",sx:{width:100*o,height:100*i,backgroundColor:"primary.dark",borderRadius:100,border:"2px solid #000000",position:"relative"}})));default:return}};var W;const q=function(){var e=(0,B.__read)((0,C.useSearchParams)(),1)[0],t=(0,C.useNavigate)(),a=(0,E.useDispatch)(),r=(0,E.useSelector)(g),n=(0,E.useSelector)(x),l=(0,E.useSelector)(O),c=(0,E.useSelector)((function(e){return D(e,n.hallId)})),s=0;switch(c&&(s=(0,i.useMemo)((function(){return function(e){var t=1,a=0;if(e.length){var r=e.map((function(e){return e.tableId}));return e.forEach((function(e,n){e.tableId>=a&&(a=e.tableId,a++),t=r.includes(n+1)?a:n+1})),t}return 1}(c)}),[c])),e.get("type")){case"new":W=I.new;break;case"edit":W=I.edit}var o=function(e){var t={placesCount:l.placesCount,sizeCircle:l.sizeCircle,sizeX:l.sizeX,sizeY:l.sizeY};switch(t[e]++,e){case"sizeCircle":t[e]<4&&a(P(t));break;case"sizeX":case"sizeY":t[e]<8&&a(P(t));break;case"placesCount":t[e]<21&&a(P(t));break;default:a(P(t))}},m=function(e){var t={placesCount:l.placesCount,sizeCircle:l.sizeCircle,sizeX:l.sizeX,sizeY:l.sizeY};t[e]--,t[e]>=1&&a(P(t))};return u().createElement("div",{className:"modalOverlay"},u().createElement("div",{className:"constructorContainer"},u().createElement("div",{className:"constructorContainerGeneral"},u().createElement("div",{className:"constructorContainerHeader"},u().createElement(A(),{className:"constructorContainerHeader__saveBtn",variant:"contained",onClick:function(){return function(e){switch(W){case"edit":var t={tableId:n.tableId,type:n.mode,maxPlaces:"square"===r?n.constructorParameters.sizeX+n.constructorParameters.sizeY:"circle"===r?n.constructorParameters.placesCount:0,places:n.places,constructorParams:{placesCount:n.constructorParameters.placesCount,sizeCircle:n.constructorParameters.sizeCircle,sizeX:n.constructorParameters.sizeX,sizeY:n.constructorParameters.sizeY}};a(function(e,t){return{type:T.UPDATE_TABLE,hallId:e,table:t}}(e,t));break;case"new":var l={tableId:s,type:n.mode,maxPlaces:"square"===r?n.constructorParameters.sizeX+n.constructorParameters.sizeY:"circle"===r?n.constructorParameters.placesCount:0,places:n.places,constructorParams:{placesCount:n.constructorParameters.placesCount,sizeCircle:n.constructorParameters.sizeCircle,sizeX:n.constructorParameters.sizeX,sizeY:n.constructorParameters.sizeY}};a(function(e,t){return{type:T.ADD_TABLE,hallId:e,table:t}}(e,l))}alert("Изменения сохранены")}(n.hallId)}},"Сохранить"),W===I.edit&&u().createElement(A(),{className:"constructorContainerHeader__delBtn",variant:"contained",onClick:function(){return e=n.hallId,r=n.tableId,a(function(e,t){return{type:T.DELETE_TABLE,hallId:e,tableId:t}}(e,r)),void t("/administration");var e,r}},"Удалить"),u().createElement("h2",{className:"constructorContainerHeader__headline"},"Конструктор")),u().createElement("div",{className:"contructorTableType"},u().createElement(A(),{className:"contructorTableType__squareBhtn",variant:"outlined",disabled:"square"===r,onClick:function(){a(S("square"))}},"Квадратный"),u().createElement(A(),{className:"contructorTableType__roundBtn",variant:"outlined",disabled:"circle"===r,onClick:function(){a(S("circle"))}},"Круглый")),"circle"===r&&u().createElement(u().Fragment,null,u().createElement("div",{className:"tableWrapper"},u().createElement(H,{hallId:n.hallId,tableId:W===I.edit?n.tableId:s,constructorMode:W,places:n.places,type:"circle",countPlacesCircle:l.placesCount,size:[l.sizeCircle,l.sizeCircle]}))),"square"===r&&u().createElement(u().Fragment,null,u().createElement("div",{className:"tableWrapper"},u().createElement(H,{hallId:n.hallId,tableId:W===I.edit?n.tableId:s,constructorMode:W,places:n.places,type:"square",countPlacesCircle:l.placesCount,size:[l.sizeX,l.sizeY]})))),u().createElement("div",{className:"controlPanel"},"square"===r&&u().createElement(u().Fragment,null,u().createElement("div",{className:"controlPanelElement"},u().createElement("div",{className:"controlPanelElementTextWrapper"},u().createElement("span",{className:"controlPanelElementTextWrapper__label"},"Размер по X"),u().createElement("span",{className:"controlPanelElementTextWrapper__value"},l.sizeX)),u().createElement("div",{className:"controlPanelElementBtnWrapper"},u().createElement(A(),{className:"controlPanelElementBtnWrapper__increaseBtn",variant:"contained",onClick:function(){return o("sizeX")}},"Увеличить"),u().createElement(A(),{className:"controlPanelElementBtnWrapper__decreaseBtn",variant:"contained",onClick:function(){return m("sizeX")}},"Уменьшить"))),u().createElement("div",{className:"controlPanelElement"},u().createElement("div",{className:"controlPanelElementTextWrapper"},u().createElement("span",{className:"controlPanelElementTextWrapper__label"},"Размер по Y"),u().createElement("span",{className:"controlPanelElementTextWrapper__value"},l.sizeY)),u().createElement("div",{className:"controlPanelElementBtnWrapper"},u().createElement(A(),{className:"controlPanelElementBtnWrapper__increaseBtn",variant:"contained",onClick:function(){return o("sizeY")}},"Увеличить"),u().createElement(A(),{className:"controlPanelElementBtnWrapper__decreaseBtn",variant:"contained",onClick:function(){return m("sizeY")}},"Уменьшить")))),"circle"===r&&u().createElement(u().Fragment,null,u().createElement("div",{className:"controlPanelElement"},u().createElement("div",{className:"controlPanelElementTextWrapper"},u().createElement("span",{className:"controlPanelElementTextWrapper__label"},"Размер"),u().createElement("span",{className:"controlPanelElementTextWrapper__value"},l.sizeCircle)),u().createElement("div",{className:"controlPanelElementBtnWrapper"},u().createElement(A(),{className:"controlPanelElementBtnWrapper__increaseBtn",variant:"contained",onClick:function(){return o("sizeCircle")}},"Увеличить"),u().createElement(A(),{className:"controlPanelElementBtnWrapper__decreaseBtn",variant:"contained",onClick:function(){return m("sizeCircle")}},"Уменьшить"))),u().createElement("div",{className:"controlPanelElement"},u().createElement("div",{className:"controlPanelElementTextWrapper"},u().createElement("span",{className:"controlPanelElementTextWrapper__label"},"Кол-во мест"),u().createElement("span",{className:"controlPanelElementTextWrapper__value"},l.placesCount)),u().createElement("div",{className:"controlPanelElementBtnWrapper"},u().createElement(A(),{className:"controlPanelElementBtnWrapper__increaseBtn",variant:"contained",onClick:function(){return o("placesCount")}},"Увеличить"),u().createElement(A(),{className:"controlPanelElementBtnWrapper__decreaseBtn",variant:"contained",onClick:function(){return m("placesCount")}},"Уменьшить"))))),u().createElement("button",{className:"constructorContainer__closeBtn",type:"button",onClick:function(){t("/administration")}})))};var X=function(){return{type:b.LOAD_HALLS_REQUEST}},Y=function(e){return{type:b.LOAD_HALLS_REQUEST_SUCCESS,halls:e}};const M=function(){var e=(0,E.useDispatch)(),t=(0,E.useSelector)(y).halls;return u().useEffect((function(){e(X())}),[]),u().createElement(u().Fragment,null,u().createElement("header",{className:"headerSection"},u().createElement("div",{className:"fixed-container flex-container"},u().createElement("h2",{className:"headerSection__headline"},"Бронирование столов. Администрирование"),u().createElement("div",{className:"headerInfoContainer"},u().createElement("span",{className:"headerInfoContainer__username"},"Пользователь")))),u().createElement("main",{className:"mainSection"},u().createElement("div",{className:"fixed-container flex-container"},u().createElement("div",{className:"add"},u().createElement(A(),{className:"add__btn",variant:"outlined",sx:{border:"1px solid #e87b16",color:"#e87b16"},onClick:function(){var a,r=0;t.length?t.forEach((function(e){e.hallId>=r&&(r=e.hallId,r++)})):r=1,e((a={hallId:r,maxTablesCount:20,tables:[]},{type:T.ADD_HALL,hall:a}))}},"Добавить зал")),t.map((function(e){return u().createElement(z,{key:e.hallId,id:e.hallId,maxTablesCount:e.maxTablesCount})})))),u().createElement(C.Routes,null,u().createElement(C.Route,{path:"tableConstructor",element:u().createElement(q,null)})))},F=function(){var e=(0,E.useSelector)(R);return u().createElement("ul",{className:"reservehallList"},e.map((function(e){return u().createElement("li",{key:e.hallId,className:"reservehallListItem"},u().createElement(C.Link,{className:"reservehallListItemLink",to:"hall/".concat(e.hallId)},u().createElement("h3",{className:"reservehallListItemLink__headline"},"Залл №",e.hallId),u().createElement("span",{className:"reservehallListItemLink__countTables"},"Количество столов : ",e.tables.length," из ",e.maxTablesCount)))})))},Q=function(){var e=(0,C.useParams)().id,t=(0,E.useSelector)((function(t){return D(t,Number(e))}));return u().createElement("div",{className:"reserveHall"},u().createElement(C.Link,{to:"/"},"Назад"),u().createElement("ul",{className:"reserveHallList"},t.map((function(e){return u().createElement("li",{key:e.tableId,className:"reserveHallListItem"},u().createElement(C.Link,{to:"table/".concat(e.tableId)},u().createElement("h3",{className:""},"Стол №",e.tableId),u().createElement("span",{className:""},"Свободно мест : 1 из ",e.places.length)))}))))},G=function(){var e=(0,E.useDispatch)();return u().useEffect((function(){e(X())}),[]),u().createElement(u().Fragment,null,u().createElement("header",{className:"headerSection"},u().createElement("div",{className:"fixed-container"},u().createElement("h2",{className:""},"Бронирование столов"))),u().createElement("main",null,u().createElement("div",{className:"fixed-container"},u().createElement("div",{className:"reserveContainer"},u().createElement(C.Link,{to:"/administration"},"Перейти в админинистрирование"),u().createElement(C.Routes,null,u().createElement(C.Route,{path:"/",element:u().createElement(F,null)}),u().createElement(C.Route,{path:"hall/:id",element:u().createElement(Q,null)}))))))},j=function(){return u().createElement("div",{className:"appContainer"},u().createElement("h1",{className:"appContainer__headline visually-hidden"},"Сервис бронирование столов"),u().createElement(C.Routes,null,u().createElement(C.Route,{path:"/*",element:u().createElement(G,null)}),u().createElement(C.Route,{path:"administration/*",element:u().createElement(M,null)})))};var V={mode:"circle",places:[],constructorParameters:{sizeCircle:2,placesCount:1,sizeX:1,sizeY:1},hallId:0,tableId:0},J={constructor:V,halls:[]},$=(0,_.combineReducers)({administration:function(e,t){switch(void 0===e&&(e=J),t.type){case T.ADD_TABLE:var a=e.halls.find((function(e){return e.hallId===t.hallId})),r=e.halls.indexOf(a),n=(0,B.__spreadArray)((0,B.__spreadArray)([],(0,B.__read)(e.halls[r].tables),!1),[t.table],!1),l=(0,B.__spreadArray)([],(0,B.__read)(e.halls),!1);return l[r].tables=n,{constructor:e.constructor,halls:l};case T.UPDATE_TABLE:var c=e.halls.find((function(e){return e.hallId===t.hallId})),s=e.halls.indexOf(c),o=(0,B.__spreadArray)([],(0,B.__read)(e.halls[s].tables),!1).map((function(e){return e.tableId===t.table.tableId?t.table:e}));return{halls:e.halls.map((function(e){return e.hallId===t.hallId?{hallId:e.hallId,maxTablesCount:e.maxTablesCount,tables:o}:e})),constructor:e.constructor};case T.DELETE_TABLE:var i=e.halls.find((function(e){return e.hallId===t.hallId})),u=e.halls.indexOf(i),m=e.halls[u].tables.find((function(e){return e.tableId===t.tableId})),d=(0,B.__spreadArray)([],(0,B.__read)(e.halls[u].tables),!1);d.splice(d.indexOf(m),1);var E=(0,B.__spreadArray)([],(0,B.__read)(e.halls),!1);return E[u].tables=d,{constructor:e.constructor,halls:E};case T.SELECT_TABLE:return{constructor:{mode:e.constructor.mode,constructorParameters:t.constructorParameters,places:t.places,hallId:t.hallId,tableId:t.tableId},halls:e.halls};case T.CHANGE_CONSTRUCTOR_TYPE:return{constructor:{mode:t.mode,constructorParameters:e.constructor.constructorParameters,places:e.constructor.places,hallId:e.constructor.hallId,tableId:e.constructor.tableId},halls:e.halls};case T.SET_CONSTRUCTOR_PARAMS:return{halls:e.halls,constructor:{mode:e.constructor.mode,constructorParameters:t.params,places:e.constructor.places,hallId:e.constructor.hallId,tableId:e.constructor.tableId}};case T.DELETE_HALL:var p=(0,B.__spreadArray)([],(0,B.__read)(e.halls),!1),_=e.halls.find((function(e){return e.hallId===t.hallId}));return p.splice(e.halls.indexOf(_),1),{constructor:e.constructor,halls:p};case T.ADD_HALL:return{constructor:e.constructor,halls:(0,B.__spreadArray)((0,B.__spreadArray)([],(0,B.__read)(e.halls),!1),[t.hall],!1)};case T.RESET_CONSTRUCTOR:return{constructor:V,halls:e.halls};case T.SAVE_HALL_ID_IN_CONSTRUCTOR:return{constructor:{hallId:t.hallId,mode:e.constructor.mode,constructorParameters:e.constructor.constructorParameters,places:e.constructor.places,tableId:e.constructor.tableId},halls:e.halls};case T.ADD_PLACE_IN_TABLE:return{constructor:{hallId:e.constructor.hallId,constructorParameters:e.constructor.constructorParameters,mode:e.constructor.mode,tableId:e.constructor.tableId,places:(0,B.__spreadArray)((0,B.__spreadArray)([],(0,B.__read)(e.constructor.places),!1),[t.place],!1)},halls:e.halls};case T.DELETE_PLACE_FROM_TABLE:var h=(0,B.__spreadArray)([],(0,B.__read)(e.constructor.places),!1),f=h.find((function(e){return e.placeId===t.placeId}));return h.splice(h.indexOf(f),1),{constructor:{hallId:e.constructor.hallId,constructorParameters:e.constructor.constructorParameters,mode:e.constructor.mode,tableId:e.constructor.tableId,places:h},halls:e.halls};case b.LOAD_HALLS_REQUEST_SUCCESS:return{constructor:e.constructor,halls:t.halls};default:return e}}});const K=require("redux-saga");var Z=a.n(K);const ee=require("redux-saga/effects"),te=require("axios");var ae=a.n(te);const re=function(){return ae().get("http://localhost:9000/api/load_halls.json")},ne=function(e){return ae().get("http://localhost:9000/api/load_halls.json")};function le(){var e,t,a;return(0,B.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(0,ee.call)(re)];case 1:return e=r.sent(),t=e.data.halls,[4,(0,ee.put)(Y(t))];case 2:return r.sent(),[3,4];case 3:return a=r.sent(),console.log(a),[3,4];case 4:return[2]}}))}function ce(e){var t,a;return(0,B.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(0,ee.call)(ne,e.hall)];case 1:return t=r.sent(),[4,(0,ee.put)((n=t.hall,{type:b.ADD_NEW_HALL_REQUEST_SUCCESS,hall:n}))];case 2:return r.sent(),[3,4];case 3:return a=r.sent(),console.log(a),[3,4];case 4:return[2]}var n}))}function se(){return(0,B.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,ee.takeEvery)(b.LOAD_HALLS_REQUEST,le)];case 1:return e.sent(),[4,(0,ee.takeEvery)(b.ADD_NEW_HALL_REQUEST,ce)];case 2:return e.sent(),[2]}}))}var oe,ie,ue=Z()();"undefined"!=typeof window&&(oe=window,ie=(0,_.legacy_createStore)($,oe.REDUX_DATA,(0,_.applyMiddleware)(ue)),ue.run(se),delete oe.REDUX_DATA,f().hydrateRoot(document.querySelector(".app"),u().createElement(E.Provider,{store:ie},u().createElement(C.BrowserRouter,null,u().createElement(j,null)))));var me=n()();me.get(/\.(js|css|map|ico|svg|png|gif|bmp|jpeg|jpg|woff|woff2|json)$/,n().static(o().resolve(__dirname,"../dist"))),me.use("*",(function(e,t){var a=c().readFileSync(o().resolve("./dist/index.html"),{encoding:"utf8"}),r=(0,_.legacy_createStore)($,(0,_.applyMiddleware)(ue)),n=ue.run(se);switch(e.url){case"/administration":case"/":r.dispatch(X())}n.toPromise().then((function(){var n=r.getState(),l=d().renderToString(u().createElement(E.Provider,{store:r},u().createElement(p.StaticRouter,{location:e.url},u().createElement(j,null))));a=(a=a.replace('<div class="app"></div>','<div class="app">'.concat(l,"</div>"))).replace('<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Сервис бронирования столов</title><script defer="defer" src="bundle.js"><\/script><link href="bundle.css" rel="stylesheet"></head>','<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Сервис бронирования столов</title><script defer="defer" src="bundle.js"><\/script><link href="bundle.css" rel="stylesheet"><script defer="defer">window.REDUX_DATA = '.concat(JSON.stringify(n),"<\/script></head>")),t.contentType("text/html"),t.status(200),t.send(a)})).catch((function(e){return t.status(500)}))})),me.listen("9000",(function(){console.log("Express server started at <http://localhost:9000>")}))}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,a),l.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a(609)})();